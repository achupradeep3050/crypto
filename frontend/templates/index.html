<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MR_RSI // PRO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link rel="stylesheet" href="/static/css/styles.css?v=2">
</head>

<body class="p-6">

    <div class="max-w-7xl mx-auto grid grid-cols-12 gap-6">

        <!-- Header / Control Center -->
        <div class="col-span-12 flex justify-between items-center mb-4">
            <div class="flex items-center gap-4">
                <i class="fas fa-cube text-3xl text-white"></i>
                <div>
                    <h1 class="brand-text">ANTIGRAVITY // TRADE</h1>
                    <div id="global-status" class="text-xs tracking-widest uppercase text-gray-500">System Offline</div>
                </div>
            </div>

            <div class="flex gap-4 items-center">
                <div class="text-right">
                    <div class="text-xs text-gray-500 uppercase">Balance</div>
                    <div id="val-balance" class="font-mono text-xl text-white">$ --.--</div>
                </div>
                <div class="h-8 w-px bg-gray-800"></div>
                <button id="btn-stop" onclick="stopBot()" class="btn-stop hidden"><i class="fas fa-stop mr-2"></i>HALT
                    SYSTEM</button>
            </div>
        </div>

        <!-- Mode Selection Panel -->
        <div class="col-span-12 grid grid-cols-2 gap-6 mb-6">
            <!-- Mode A: Swing -->
            <div id="mode-4h" class="bw-card p-6 mode-card" onclick="startBot('4H1H')">
                <div class="flex justify-between items-start">
                    <div>
                        <h3 class="text-lg font-bold text-white">SWING STRATEGY</h3>
                        <p class="text-xs text-gray-500 mt-1">4 Hour Trend // 1 Hour Entry</p>
                    </div>
                    <i class="fas fa-layer-group text-2xl text-gray-700"></i>
                </div>
                <div class="mt-4 flex items-center gap-2">
                    <span class="status-indicator" id="ind-4h"></span>
                    <span class="text-xs uppercase status-text" id="txt-4h">Standby</span>
                </div>
            </div>

            <!-- Mode B: Scalp -->
            <div id="mode-15m" class="bw-card p-6 mode-card" onclick="startBot('15m1m')">
                <div class="flex justify-between items-start">
                    <div>
                        <h3 class="text-lg font-bold text-white">SCALP STRATEGY</h3>
                        <p class="text-xs text-gray-500 mt-1">15 Min Trend // 1 Min Entry</p>
                    </div>
                    <i class="fas fa-bolt text-2xl text-gray-700"></i>
                </div>
                <div class="mt-4 flex items-center gap-2">
                    <span class="status-indicator" id="ind-15m"></span>
                    <span class="text-xs uppercase status-text" id="txt-15m">Standby</span>
                </div>
            </div>
        </div>

        <!-- Stats & Market -->
        <div class="col-span-12 lg:col-span-8 bw-card p-6">
            <h2 class="text-sm font-bold text-gray-400 uppercase mb-6 tracking-wider">Market Intelligence</h2>
            <div class="overflow-x-auto">
                <table class="w-full text-left text-sm text-gray-400">
                    <thead class="text-xs uppercase border-b border-gray-800">
                        <tr>
                            <th class="py-3">Asset</th>
                            <th class="py-3">Price</th>
                            <th class="py-3">RSI</th>
                            <th class="py-3">Trend</th>
                            <th class="py-3">ADX</th>
                            <th class="py-3 text-right">Status</th>
                        </tr>
                    </thead>
                    <tbody id="market-table-body">
                        <!-- JS Injected -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Logs & Config -->
        <div class="col-span-12 lg:col-span-4 flex flex-col gap-6">
            <div class="bw-card p-6 flex-1">
                <h2 class="text-sm font-bold text-gray-400 uppercase mb-4 tracking-wider">System Logs</h2>
                <div id="logs-container" class="log-container h-64 overflow-y-auto custom-scrollbar">
                    <div class="log-entry">System ready. Select a mode to begin.</div>
                </div>
            </div>

            <div class="bw-card p-6">
                <h2 class="text-sm font-bold text-gray-400 uppercase mb-4 tracking-wider">Configuration</h2>
                <div class="space-y-4" id="settings-form">
                    <div>
                        <label class="text-xs text-gray-600 block mb-1">Agent URL</label>
                        <input type="text" id="inp-agent"
                            class="w-full bg-black border border-gray-800 rounded p-2 text-xs text-white focus:border-white outline-none">
                    </div>
                    <div>
                        <label class="text-xs text-gray-600 block mb-1">Risk (%)</label>
                        <input type="number" id="inp-risk"
                            class="w-full bg-black border border-gray-800 rounded p-2 text-xs text-white focus:border-white outline-none"
                            value="5.0" step="0.5">
                    </div>
                    <div class="flex justify-end">
                        <button onclick="saveSettings()" class="btn-outline text-xs px-3 py-1 rounded">Save
                            Config</button>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script src="/static/js/app.js?v=2"></script>
</body>

</html>