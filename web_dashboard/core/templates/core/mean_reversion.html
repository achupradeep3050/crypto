{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MeanrevRSI // DUAL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>

<body class="p-6">
    <div id="main-content" class="max-w-7xl mx-auto flex flex-col gap-6 z-10 relative">

        <!-- Navigation -->
        <nav class="flex gap-6 border-b border-gray-800 pb-4 mb-2">
            <a href="/"
                class="text-gray-500 hover:text-white font-bold text-xs tracking-wider uppercase transition">Home</a>
            <a href="/mean-reversion" class="text-cyan-400 font-bold text-xs tracking-wider uppercase">Mean
                Reversion</a>
            <a href="/tma"
                class="text-gray-500 hover:text-pink-400 font-bold text-xs tracking-wider uppercase transition">TMA
                System</a>
        </nav>

        <!-- Global Header -->
        <div class="flex justify-between items-center mb-2">
            <div class="flex items-center gap-4">
                <i class="fas fa-layer-group text-3xl text-cyan-400"></i>
                <div>
                    <h1 class="brand-text text-2xl">MEANREVRSI // DUAL</h1>
                    <div class="text-xs tracking-widest uppercase text-gray-500">Mult-Strategy System</div>
                </div>
            </div>
            <div class="flex gap-4">
                <button onclick="stopAll()"
                    class="btn-stop-all px-4 py-2 rounded font-bold text-xs uppercase tracking-wider">HALT ALL
                    SYSTEMS</button>
            </div>
        </div>

        <!-- System A: SWING (Top) -->
        <div class="bw-card p-6">
            <div class="flex justify-between items-center mb-4 border-b border-gray-800 pb-2">
                <div class="flex items-center gap-3">
                    <div id="ind-swing" class="status-indicator"></div>
                    <h2 class="text-xl font-bold text-white">SWING STRATEGY <span class="text-gray-500 text-sm ml-2">(4H
                            Trend / 1H Entry)</span></h2>
                </div>
                <div class="flex items-center gap-4">
                    <span id="status-swing" class="text-xs uppercase text-gray-500">Standby</span>
                    <button id="btn-swing" onclick="toggleBot('swing', 'start')"
                        class="btn-toggle px-4 py-1 rounded text-xs font-bold uppercase">Activate</button>

                </div>
            </div>

            <div class="grid grid-cols-12 gap-6">
                <!-- Market Data -->
                <div class="col-span-12 lg:col-span-8">
                    <table class="w-full text-left text-sm text-gray-400">
                        <thead class="text-xs uppercase border-b border-gray-800 text-cyan-500">
                            <tr>
                                <th class="py-2">Asset</th>
                                <th class="py-2">Price</th>
                                <th class="py-2">RSI (4H)</th>
                                <th class="py-2">Trend</th>
                                <th class="py-2">Status</th>
                                <th class="py-2 text-right">Updated</th>
                            </tr>
                        </thead>
                        <tbody id="table-swing">
                            <!-- JS Injected -->
                        </tbody>
                    </table>
                </div>
                <!-- Logs -->
                <div class="col-span-12 lg:col-span-4 flex flex-col">
                    <div id="logs-swing"
                        class="h-40 overflow-y-auto custom-scrollbar text-xs font-mono text-gray-500 bg-black/20 p-2 rounded">
                        <div>System Initialized.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- System B: SCALP (Bottom) -->
        <div class="bw-card p-6">
            <div class="flex justify-between items-center mb-4 border-b border-gray-800 pb-2">
                <div class="flex items-center gap-3">
                    <div id="ind-scalp" class="status-indicator"></div>
                    <h2 class="text-xl font-bold text-white">SCALP STRATEGY <span
                            class="text-gray-500 text-sm ml-2">(15m Trend / 1m Entry)</span></h2>
                </div>
                <div class="flex items-center gap-4">
                    <span id="status-scalp" class="text-xs uppercase text-gray-500">Standby</span>
                    <button id="btn-scalp" onclick="toggleBot('scalp', 'start')"
                        class="btn-toggle px-4 py-1 rounded text-xs font-bold uppercase">Activate</button>
                </div>
            </div>

            <div class="grid grid-cols-12 gap-6">
                <!-- Market Data -->
                <div class="col-span-12 lg:col-span-8">
                    <table class="w-full text-left text-sm text-gray-400">
                        <thead class="text-xs uppercase border-b border-gray-800 text-cyan-500">
                            <tr>
                                <th class="py-2">Asset</th>
                                <th class="py-2">Price</th>
                                <th class="py-2">RSI (15m)</th>
                                <th class="py-2">Trend</th>
                                <th class="py-2">Status</th>
                                <th class="py-2 text-right">Updated</th>
                            </tr>
                        </thead>
                        <tbody id="table-scalp">
                            <!-- JS Injected -->
                        </tbody>
                    </table>
                </div>
                <!-- Logs -->
                <div class="col-span-12 lg:col-span-4 flex flex-col">
                    <div id="logs-scalp"
                        class="h-40 overflow-y-auto custom-scrollbar text-xs font-mono text-gray-500 bg-black/20 p-2 rounded">
                        <div>System Initialized.</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Account Info Footer -->
        <div class="bw-card p-4 flex justify-between items-center text-sm">
            <div class="text-gray-500">Account Balance: <span id="val-balance"
                    class="text-white font-mono text-lg ml-2">$ --.--</span></div>
            <div class="text-gray-500">Equity: <span id="val-equity" class="text-white font-mono text-lg ml-2">$
                    --.--</span></div>
        </div>

    </div>

    <!-- Particles Background -->
    <div id="particles-js" class="fixed inset-0 z-0 pointer-events-none opacity-40"></div>

    <script src="{% static 'js/particles.min.js' %}"></script>
    <!-- Trend Visualizer -->
    <div id="trend-visualizer" class="trend-vis-container"></div>

    <script src="{% static 'js/app.js' %}"></script>
    <script>
        particlesJS.load('particles-js', '{% static "js/particles.json" %}', function () {
            console.log('Blue Glass Mode');
        });
    </script>
</body>

</html>